import{V as Qe,O as U,W as Je,X as D,U as Ce}from"./index-BXj-mBhB.js";import{i as ie,b as lt}from"./browser-BwSN-dYO.js";var Pe={exports:{}},Xe=Qe.EventEmitter,Ee,Ie;function ut(){if(Ie)return Ee;Ie=1;function r(y,v){var p=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(M){return Object.getOwnPropertyDescriptor(y,M).enumerable})),p.push.apply(p,_)}return p}function i(y){for(var v=1;v<arguments.length;v++){var p=arguments[v]!=null?arguments[v]:{};v%2?r(Object(p),!0).forEach(function(_){o(y,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(p)):r(Object(p)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(p,_))})}return y}function o(y,v,p){return v=s(v),v in y?Object.defineProperty(y,v,{value:p,enumerable:!0,configurable:!0,writable:!0}):y[v]=p,y}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function d(y,v){for(var p=0;p<v.length;p++){var _=v[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,s(_.key),_)}}function l(y,v,p){return v&&d(y.prototype,v),p&&d(y,p),Object.defineProperty(y,"prototype",{writable:!1}),y}function s(y){var v=w(y,"string");return typeof v=="symbol"?v:String(v)}function w(y,v){if(typeof y!="object"||y===null)return y;var p=y[Symbol.toPrimitive];if(p!==void 0){var _=p.call(y,v||"default");if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}var c=U,T=c.Buffer,W=Je,N=W.inspect,x=N&&N.custom||"inspect";function B(y,v,p){T.prototype.copy.call(y,v,p)}return Ee=function(){function y(){f(this,y),this.head=null,this.tail=null,this.length=0}return l(y,[{key:"push",value:function(p){var _={data:p,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(p){var _={data:p,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var _=this.head,M=""+_.data;_=_.next;)M+=p+_.data;return M}},{key:"concat",value:function(p){if(this.length===0)return T.alloc(0);for(var _=T.allocUnsafe(p>>>0),M=this.head,E=0;M;)B(M.data,_,E),E+=M.data.length,M=M.next;return _}},{key:"consume",value:function(p,_){var M;return p<this.head.data.length?(M=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?M=this.shift():M=_?this._getString(p):this._getBuffer(p),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var _=this.head,M=1,E=_.data;for(p-=E.length;_=_.next;){var g=_.data,S=p>g.length?g.length:p;if(S===g.length?E+=g:E+=g.slice(0,p),p-=S,p===0){S===g.length?(++M,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=g.slice(S));break}++M}return this.length-=M,E}},{key:"_getBuffer",value:function(p){var _=T.allocUnsafe(p),M=this.head,E=1;for(M.data.copy(_),p-=M.data.length;M=M.next;){var g=M.data,S=p>g.length?g.length:p;if(g.copy(_,_.length-p,0,S),p-=S,p===0){S===g.length?(++E,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=g.slice(S));break}++E}return this.length-=E,_}},{key:x,value:function(p,_){return N(this,i(i({},_),{},{depth:0,customInspect:!1}))}}]),y}(),Ee}function st(r,i){var o=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(Le,this,r)):D.nextTick(Le,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(l){!i&&l?o._writableState?o._writableState.errorEmitted?D.nextTick(ue,o):(o._writableState.errorEmitted=!0,D.nextTick(xe,o,l)):D.nextTick(xe,o,l):i?(D.nextTick(ue,o),i(l)):D.nextTick(ue,o)}),this)}function xe(r,i){Le(r,i),ue(r)}function ue(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function dt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Le(r,i){r.emit("error",i)}function ht(r,i){var o=r._readableState,f=r._writableState;o&&o.autoDestroy||f&&f.autoDestroy?r.destroy(i):r.emit("error",i)}var ze={destroy:st,undestroy:dt,errorOrDestroy:ht},$={};function ct(r,i){r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i}var Ze={};function k(r,i,o){o||(o=Error);function f(l,s,w){return typeof i=="string"?i:i(l,s,w)}var d=function(l){ct(s,l);function s(w,c,T){return l.call(this,f(w,c,T))||this}return s}(o);d.prototype.name=o.name,d.prototype.code=r,Ze[r]=d}function Be(r,i){if(Array.isArray(r)){var o=r.length;return r=r.map(function(f){return String(f)}),o>2?"one of ".concat(i," ").concat(r.slice(0,o-1).join(", "),", or ")+r[o-1]:o===2?"one of ".concat(i," ").concat(r[0]," or ").concat(r[1]):"of ".concat(i," ").concat(r[0])}else return"of ".concat(i," ").concat(String(r))}function bt(r,i,o){return r.substr(!o||o<0?0:+o,i.length)===i}function pt(r,i,o){return(o===void 0||o>r.length)&&(o=r.length),r.substring(o-i.length,o)===i}function _t(r,i,o){return typeof o!="number"&&(o=0),o+i.length>r.length?!1:r.indexOf(i,o)!==-1}k("ERR_INVALID_OPT_VALUE",function(r,i){return'The value "'+i+'" is invalid for option "'+r+'"'},TypeError);k("ERR_INVALID_ARG_TYPE",function(r,i,o){var f;typeof i=="string"&&bt(i,"not ")?(f="must not be",i=i.replace(/^not /,"")):f="must be";var d;if(pt(r," argument"))d="The ".concat(r," ").concat(f," ").concat(Be(i,"type"));else{var l=_t(r,".")?"property":"argument";d='The "'.concat(r,'" ').concat(l," ").concat(f," ").concat(Be(i,"type"))}return d+=". Received type ".concat(typeof o),d},TypeError);k("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");k("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});k("ERR_STREAM_PREMATURE_CLOSE","Premature close");k("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});k("ERR_MULTIPLE_CALLBACK","Callback called multiple times");k("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");k("ERR_STREAM_WRITE_AFTER_END","write after end");k("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);k("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);k("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");$.codes=Ze;var gt=$.codes.ERR_INVALID_OPT_VALUE;function wt(r,i,o){return r.highWaterMark!=null?r.highWaterMark:i?r[o]:null}function yt(r,i,o,f){var d=wt(i,f,o);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var l=f?o:"highWaterMark";throw new gt(l,d)}return Math.floor(d)}return r.objectMode?16:16*1024}var et={getHighWaterMark:yt},Se,qe;function tt(){if(qe)return Se;qe=1,Se=L;function r(a){var n=this;this.next=null,this.entry=null,this.finish=function(){we(n,a)}}var i;L.WritableState=O;var o={deprecate:lt},f=Xe,d=U.Buffer,l=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(a){return d.from(a)}function w(a){return d.isBuffer(a)||a instanceof l}var c=ze,T=et,W=T.getHighWaterMark,N=$.codes,x=N.ERR_INVALID_ARG_TYPE,B=N.ERR_METHOD_NOT_IMPLEMENTED,y=N.ERR_MULTIPLE_CALLBACK,v=N.ERR_STREAM_CANNOT_PIPE,p=N.ERR_STREAM_DESTROYED,_=N.ERR_STREAM_NULL_VALUES,M=N.ERR_STREAM_WRITE_AFTER_END,E=N.ERR_UNKNOWN_ENCODING,g=c.errorOrDestroy;ie(L,f);function S(){}function O(a,n,h){i=i||z(),a=a||{},typeof h!="boolean"&&(h=n instanceof i),this.objectMode=!!a.objectMode,h&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=W(this,a,"writableHighWaterMark",h),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var R=a.decodeStrings===!1;this.decodeStrings=!R,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){pe(n,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=a.emitClose!==!1,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}O.prototype.getBuffer=function(){for(var n=this.bufferedRequest,h=[];n;)h.push(n),n=n.next;return h},function(){try{Object.defineProperty(O.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(n){return I.call(this,n)?!0:this!==L?!1:n&&n._writableState instanceof O}})):I=function(n){return n instanceof this};function L(a){i=i||z();var n=this instanceof i;if(!n&&!I.call(L,this))return new L(a);this._writableState=new O(a,this,n),this.writable=!0,a&&(typeof a.write=="function"&&(this._write=a.write),typeof a.writev=="function"&&(this._writev=a.writev),typeof a.destroy=="function"&&(this._destroy=a.destroy),typeof a.final=="function"&&(this._final=a.final)),f.call(this)}L.prototype.pipe=function(){g(this,new v)};function m(a,n){var h=new M;g(a,h),D.nextTick(n,h)}function F(a,n,h,R){var P;return h===null?P=new _:typeof h!="string"&&!n.objectMode&&(P=new x("chunk",["string","Buffer"],h)),P?(g(a,P),D.nextTick(R,P),!1):!0}L.prototype.write=function(a,n,h){var R=this._writableState,P=!1,e=!R.objectMode&&w(a);return e&&!d.isBuffer(a)&&(a=s(a)),typeof n=="function"&&(h=n,n=null),e?n="buffer":n||(n=R.defaultEncoding),typeof h!="function"&&(h=S),R.ending?m(this,h):(e||F(this,R,a,h))&&(R.pendingcb++,P=ce(this,R,e,a,n,h)),P},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&K(this,a))},L.prototype.setDefaultEncoding=function(n){if(typeof n=="string"&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new E(n);return this._writableState.defaultEncoding=n,this},Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(a,n,h){return!a.objectMode&&a.decodeStrings!==!1&&typeof n=="string"&&(n=d.from(n,h)),n}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ce(a,n,h,R,P,e){if(!h){var t=Z(n,R,P);R!==t&&(h=!0,P="buffer",R=t)}var u=n.objectMode?1:R.length;n.length+=u;var b=n.length<n.highWaterMark;if(b||(n.needDrain=!0),n.writing||n.corked){var C=n.lastBufferedRequest;n.lastBufferedRequest={chunk:R,encoding:P,isBuf:h,callback:e,next:null},C?C.next=n.lastBufferedRequest:n.bufferedRequest=n.lastBufferedRequest,n.bufferedRequestCount+=1}else Y(a,n,!1,u,R,P,e);return b}function Y(a,n,h,R,P,e,t){n.writelen=R,n.writecb=t,n.writing=!0,n.sync=!0,n.destroyed?n.onwrite(new p("write")):h?a._writev(P,n.onwrite):a._write(P,e,n.onwrite),n.sync=!1}function be(a,n,h,R,P){--n.pendingcb,h?(D.nextTick(P,R),D.nextTick(G,a,n),a._writableState.errorEmitted=!0,g(a,R)):(P(R),a._writableState.errorEmitted=!0,g(a,R),G(a,n))}function ne(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function pe(a,n){var h=a._writableState,R=h.sync,P=h.writecb;if(typeof P!="function")throw new y;if(ne(h),n)be(a,h,R,n,P);else{var e=oe(h)||a.destroyed;!e&&!h.corked&&!h.bufferProcessing&&h.bufferedRequest&&K(a,h),R?D.nextTick(V,a,h,e,P):V(a,h,e,P)}}function V(a,n,h,R){h||ae(a,n),n.pendingcb--,R(),G(a,n)}function ae(a,n){n.length===0&&n.needDrain&&(n.needDrain=!1,a.emit("drain"))}function K(a,n){n.bufferProcessing=!0;var h=n.bufferedRequest;if(a._writev&&h&&h.next){var R=n.bufferedRequestCount,P=new Array(R),e=n.corkedRequestsFree;e.entry=h;for(var t=0,u=!0;h;)P[t]=h,h.isBuf||(u=!1),h=h.next,t+=1;P.allBuffers=u,Y(a,n,!0,n.length,P,"",e.finish),n.pendingcb++,n.lastBufferedRequest=null,e.next?(n.corkedRequestsFree=e.next,e.next=null):n.corkedRequestsFree=new r(n),n.bufferedRequestCount=0}else{for(;h;){var b=h.chunk,C=h.encoding,A=h.callback,j=n.objectMode?1:b.length;if(Y(a,n,!1,j,b,C,A),h=h.next,n.bufferedRequestCount--,n.writing)break}h===null&&(n.lastBufferedRequest=null)}n.bufferedRequest=h,n.bufferProcessing=!1}L.prototype._write=function(a,n,h){h(new B("_write()"))},L.prototype._writev=null,L.prototype.end=function(a,n,h){var R=this._writableState;return typeof a=="function"?(h=a,a=null,n=null):typeof n=="function"&&(h=n,n=null),a!=null&&this.write(a,n),R.corked&&(R.corked=1,this.uncork()),R.ending||ge(this,R,h),this},Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oe(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function _e(a,n){a._final(function(h){n.pendingcb--,h&&g(a,h),n.prefinished=!0,a.emit("prefinish"),G(a,n)})}function fe(a,n){!n.prefinished&&!n.finalCalled&&(typeof a._final=="function"&&!n.destroyed?(n.pendingcb++,n.finalCalled=!0,D.nextTick(_e,a,n)):(n.prefinished=!0,a.emit("prefinish")))}function G(a,n){var h=oe(n);if(h&&(fe(a,n),n.pendingcb===0&&(n.finished=!0,a.emit("finish"),n.autoDestroy))){var R=a._readableState;(!R||R.autoDestroy&&R.endEmitted)&&a.destroy()}return h}function ge(a,n,h){n.ending=!0,G(a,n),h&&(n.finished?D.nextTick(h):a.once("finish",h)),n.ended=!0,a.writable=!1}function we(a,n,h){var R=a.entry;for(a.entry=null;R;){var P=R.callback;n.pendingcb--,P(h),R=R.next}n.corkedRequestsFree.next=a}return Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}}),L.prototype.destroy=c.destroy,L.prototype._undestroy=c.undestroy,L.prototype._destroy=function(a,n){n(a)},Se}var me,ke;function z(){if(ke)return me;ke=1;var r=Object.keys||function(T){var W=[];for(var N in T)W.push(N);return W};me=s;var i=it(),o=tt();ie(s,i);for(var f=r(o.prototype),d=0;d<f.length;d++){var l=f[d];s.prototype[l]||(s.prototype[l]=o.prototype[l])}function s(T){if(!(this instanceof s))return new s(T);i.call(this,T),o.call(this,T),this.allowHalfOpen=!0,T&&(T.readable===!1&&(this.readable=!1),T.writable===!1&&(this.writable=!1),T.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",w)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(){this._writableState.ended||D.nextTick(c,this)}function c(T){T.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(W){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=W,this._writableState.destroyed=W)}}),me}var Ue=$.codes.ERR_STREAM_PREMATURE_CLOSE;function vt(r){var i=!1;return function(){if(!i){i=!0;for(var o=arguments.length,f=new Array(o),d=0;d<o;d++)f[d]=arguments[d];r.apply(this,f)}}}function Rt(){}function Et(r){return r.setHeader&&typeof r.abort=="function"}function rt(r,i,o){if(typeof i=="function")return rt(r,null,i);i||(i={}),o=vt(o||Rt);var f=i.readable||i.readable!==!1&&r.readable,d=i.writable||i.writable!==!1&&r.writable,l=function(){r.writable||w()},s=r._writableState&&r._writableState.finished,w=function(){d=!1,s=!0,f||o.call(r)},c=r._readableState&&r._readableState.endEmitted,T=function(){f=!1,c=!0,d||o.call(r)},W=function(y){o.call(r,y)},N=function(){var y;if(f&&!c)return(!r._readableState||!r._readableState.ended)&&(y=new Ue),o.call(r,y);if(d&&!s)return(!r._writableState||!r._writableState.ended)&&(y=new Ue),o.call(r,y)},x=function(){r.req.on("finish",w)};return Et(r)?(r.on("complete",w),r.on("abort",N),r.req?x():r.on("request",x)):d&&!r._writableState&&(r.on("end",l),r.on("close",l)),r.on("end",T),r.on("finish",w),i.error!==!1&&r.on("error",W),r.on("close",N),function(){r.removeListener("complete",w),r.removeListener("abort",N),r.removeListener("request",x),r.req&&r.req.removeListener("finish",w),r.removeListener("end",l),r.removeListener("close",l),r.removeListener("finish",w),r.removeListener("end",T),r.removeListener("error",W),r.removeListener("close",N)}}var Ne=rt,Te,Fe;function St(){if(Fe)return Te;Fe=1;var r;function i(E,g,S){return g=o(g),g in E?Object.defineProperty(E,g,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[g]=S,E}function o(E){var g=f(E,"string");return typeof g=="symbol"?g:String(g)}function f(E,g){if(typeof E!="object"||E===null)return E;var S=E[Symbol.toPrimitive];if(S!==void 0){var O=S.call(E,g||"default");if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(E)}var d=Ne,l=Symbol("lastResolve"),s=Symbol("lastReject"),w=Symbol("error"),c=Symbol("ended"),T=Symbol("lastPromise"),W=Symbol("handlePromise"),N=Symbol("stream");function x(E,g){return{value:E,done:g}}function B(E){var g=E[l];if(g!==null){var S=E[N].read();S!==null&&(E[T]=null,E[l]=null,E[s]=null,g(x(S,!1)))}}function y(E){D.nextTick(B,E)}function v(E,g){return function(S,O){E.then(function(){if(g[c]){S(x(void 0,!0));return}g[W](S,O)},O)}}var p=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r={get stream(){return this[N]},next:function(){var g=this,S=this[w];if(S!==null)return Promise.reject(S);if(this[c])return Promise.resolve(x(void 0,!0));if(this[N].destroyed)return new Promise(function(m,F){D.nextTick(function(){g[w]?F(g[w]):m(x(void 0,!0))})});var O=this[T],I;if(O)I=new Promise(v(O,this));else{var L=this[N].read();if(L!==null)return Promise.resolve(x(L,!1));I=new Promise(this[W])}return this[T]=I,I}},i(r,Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var g=this;return new Promise(function(S,O){g[N].destroy(null,function(I){if(I){O(I);return}S(x(void 0,!0))})})}),r),p),M=function(g){var S,O=Object.create(_,(S={},i(S,N,{value:g,writable:!0}),i(S,l,{value:null,writable:!0}),i(S,s,{value:null,writable:!0}),i(S,w,{value:null,writable:!0}),i(S,c,{value:g._readableState.endEmitted,writable:!0}),i(S,W,{value:function(L,m){var F=O[N].read();F?(O[T]=null,O[l]=null,O[s]=null,L(x(F,!1))):(O[l]=L,O[s]=m)},writable:!0}),S));return O[T]=null,d(g,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=O[s];L!==null&&(O[T]=null,O[l]=null,O[s]=null,L(I)),O[w]=I;return}var m=O[l];m!==null&&(O[T]=null,O[l]=null,O[s]=null,m(x(void 0,!0))),O[c]=!0}),g.on("readable",y.bind(null,O)),O};return Te=M,Te}var Me,He;function mt(){return He||(He=1,Me=function(){throw new Error("Readable.from is not available in the browser")}),Me}var Oe,Ve;function it(){if(Ve)return Oe;Ve=1,Oe=m;var r;m.ReadableState=L,Qe.EventEmitter;var i=function(t,u){return t.listeners(u).length},o=Xe,f=U.Buffer,d=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(e){return f.from(e)}function s(e){return f.isBuffer(e)||e instanceof d}var w=Je,c;w&&w.debuglog?c=w.debuglog("stream"):c=function(){};var T=ut(),W=ze,N=et,x=N.getHighWaterMark,B=$.codes,y=B.ERR_INVALID_ARG_TYPE,v=B.ERR_STREAM_PUSH_AFTER_EOF,p=B.ERR_METHOD_NOT_IMPLEMENTED,_=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M,E,g;ie(m,o);var S=W.errorOrDestroy,O=["error","close","destroy","pause","resume"];function I(e,t,u){if(typeof e.prependListener=="function")return e.prependListener(t,u);!e._events||!e._events[t]?e.on(t,u):Array.isArray(e._events[t])?e._events[t].unshift(u):e._events[t]=[u,e._events[t]]}function L(e,t,u){r=r||z(),e=e||{},typeof u!="boolean"&&(u=t instanceof r),this.objectMode=!!e.objectMode,u&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=x(this,e,"readableHighWaterMark",u),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(M||(M=Ce.StringDecoder),this.decoder=new M(e.encoding),this.encoding=e.encoding)}function m(e){if(r=r||z(),!(this instanceof m))return new m(e);var t=this instanceof r;this._readableState=new L(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),o.call(this)}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=W.destroy,m.prototype._undestroy=W.undestroy,m.prototype._destroy=function(e,t){t(e)},m.prototype.push=function(e,t){var u=this._readableState,b;return u.objectMode?b=!0:typeof e=="string"&&(t=t||u.defaultEncoding,t!==u.encoding&&(e=f.from(e,t),t=""),b=!0),F(this,e,t,!1,b)},m.prototype.unshift=function(e){return F(this,e,null,!0,!1)};function F(e,t,u,b,C){c("readableAddChunk",t);var A=e._readableState;if(t===null)A.reading=!1,pe(e,A);else{var j;if(C||(j=ce(A,t)),j)S(e,j);else if(A.objectMode||t&&t.length>0)if(typeof t!="string"&&!A.objectMode&&Object.getPrototypeOf(t)!==f.prototype&&(t=l(t)),b)A.endEmitted?S(e,new _):Z(e,A,t,!0);else if(A.ended)S(e,new v);else{if(A.destroyed)return!1;A.reading=!1,A.decoder&&!u?(t=A.decoder.write(t),A.objectMode||t.length!==0?Z(e,A,t,!1):K(e,A)):Z(e,A,t,!1)}else b||(A.reading=!1,K(e,A))}return!A.ended&&(A.length<A.highWaterMark||A.length===0)}function Z(e,t,u,b){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",u)):(t.length+=t.objectMode?1:u.length,b?t.buffer.unshift(u):t.buffer.push(u),t.needReadable&&V(e)),K(e,t)}function ce(e,t){var u;return!s(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(u=new y("chunk",["string","Buffer","Uint8Array"],t)),u}m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(e){M||(M=Ce.StringDecoder);var t=new M(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var u=this._readableState.buffer.head,b="";u!==null;)b+=t.write(u.data),u=u.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var Y=1073741824;function be(e){return e>=Y?e=Y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function ne(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=be(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}m.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,u=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?h(this):V(this),null;if(e=ne(e,t),e===0&&t.ended)return t.length===0&&h(this),null;var b=t.needReadable;c("need readable",b),(t.length===0||t.length-e<t.highWaterMark)&&(b=!0,c("length less than watermark",b)),t.ended||t.reading?(b=!1,c("reading or ended",b)):b&&(c("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=ne(u,t)));var C;return e>0?C=n(e,t):C=null,C===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),u!==e&&t.ended&&h(this)),C!==null&&this.emit("data",C),C};function pe(e,t){if(c("onEofChunk"),!t.ended){if(t.decoder){var u=t.decoder.end();u&&u.length&&(t.buffer.push(u),t.length+=t.objectMode?1:u.length)}t.ended=!0,t.sync?V(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,ae(e)))}}function V(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,D.nextTick(ae,e))}function ae(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,a(e)}function K(e,t){t.readingMore||(t.readingMore=!0,D.nextTick(oe,e,t))}function oe(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var u=t.length;if(c("maybeReadMore read 0"),e.read(0),u===t.length)break}t.readingMore=!1}m.prototype._read=function(e){S(this,new p("_read()"))},m.prototype.pipe=function(e,t){var u=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=e;break;case 1:b.pipes=[b.pipes,e];break;default:b.pipes.push(e);break}b.pipesCount+=1,c("pipe count=%d opts=%j",b.pipesCount,t);var C=(!t||t.end!==!1)&&e!==D.stdout&&e!==D.stderr,A=C?Q:ee;b.endEmitted?D.nextTick(A):u.once("end",A),e.on("unpipe",j);function j(J,X){c("onunpipe"),J===u&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,ft())}function Q(){c("onend"),e.end()}var le=_e(u);e.on("drain",le);var je=!1;function ft(){c("cleanup"),e.removeListener("close",ve),e.removeListener("finish",Re),e.removeListener("drain",le),e.removeListener("error",ye),e.removeListener("unpipe",j),u.removeListener("end",Q),u.removeListener("end",ee),u.removeListener("data",We),je=!0,b.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&le()}u.on("data",We);function We(J){c("ondata");var X=e.write(J);c("dest.write",X),X===!1&&((b.pipesCount===1&&b.pipes===e||b.pipesCount>1&&P(b.pipes,e)!==-1)&&!je&&(c("false write response, pause",b.awaitDrain),b.awaitDrain++),u.pause())}function ye(J){c("onerror",J),ee(),e.removeListener("error",ye),i(e,"error")===0&&S(e,J)}I(e,"error",ye);function ve(){e.removeListener("finish",Re),ee()}e.once("close",ve);function Re(){c("onfinish"),e.removeListener("close",ve),ee()}e.once("finish",Re);function ee(){c("unpipe"),u.unpipe(e)}return e.emit("pipe",u),b.flowing||(c("pipe resume"),u.resume()),e};function _e(e){return function(){var u=e._readableState;c("pipeOnDrain",u.awaitDrain),u.awaitDrain&&u.awaitDrain--,u.awaitDrain===0&&i(e,"data")&&(u.flowing=!0,a(e))}}m.prototype.unpipe=function(e){var t=this._readableState,u={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,u),this);if(!e){var b=t.pipes,C=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var A=0;A<C;A++)b[A].emit("unpipe",this,{hasUnpiped:!1});return this}var j=P(t.pipes,e);return j===-1?this:(t.pipes.splice(j,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,u),this)},m.prototype.on=function(e,t){var u=o.prototype.on.call(this,e,t),b=this._readableState;return e==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):e==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,c("on readable",b.length,b.reading),b.length?V(this):b.reading||D.nextTick(G,this)),u},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(e,t){var u=o.prototype.removeListener.call(this,e,t);return e==="readable"&&D.nextTick(fe,this),u},m.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&D.nextTick(fe,this),t};function fe(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function G(e){c("readable nexttick read 0"),e.read(0)}m.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,ge(this,e)),e.paused=!1,this};function ge(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.nextTick(we,e,t))}function we(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),a(e),t.flowing&&!t.reading&&e.read(0)}m.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function a(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&e.read()!==null;);}m.prototype.wrap=function(e){var t=this,u=this._readableState,b=!1;e.on("end",function(){if(c("wrapped end"),u.decoder&&!u.ended){var j=u.decoder.end();j&&j.length&&t.push(j)}t.push(null)}),e.on("data",function(j){if(c("wrapped data"),u.decoder&&(j=u.decoder.write(j)),!(u.objectMode&&j==null)&&!(!u.objectMode&&(!j||!j.length))){var Q=t.push(j);Q||(b=!0,e.pause())}});for(var C in e)this[C]===void 0&&typeof e[C]=="function"&&(this[C]=function(Q){return function(){return e[Q].apply(e,arguments)}}(C));for(var A=0;A<O.length;A++)e.on(O[A],this.emit.bind(this,O[A]));return this._read=function(j){c("wrapped _read",j),b&&(b=!1,e.resume())},this},typeof Symbol=="function"&&(m.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=St()),E(this)}),Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(m.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(m.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),m._fromList=n,Object.defineProperty(m.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function n(e,t){if(t.length===0)return null;var u;return t.objectMode?u=t.buffer.shift():!e||e>=t.length?(t.decoder?u=t.buffer.join(""):t.buffer.length===1?u=t.buffer.first():u=t.buffer.concat(t.length),t.buffer.clear()):u=t.buffer.consume(e,t.decoder),u}function h(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,D.nextTick(R,t,e))}function R(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var u=t._writableState;(!u||u.autoDestroy&&u.finished)&&t.destroy()}}typeof Symbol=="function"&&(m.from=function(e,t){return g===void 0&&(g=mt()),g(m,e,t)});function P(e,t){for(var u=0,b=e.length;u<b;u++)if(e[u]===t)return u;return-1}return Oe}var nt=H,se=$.codes,Tt=se.ERR_METHOD_NOT_IMPLEMENTED,Mt=se.ERR_MULTIPLE_CALLBACK,Ot=se.ERR_TRANSFORM_ALREADY_TRANSFORMING,At=se.ERR_TRANSFORM_WITH_LENGTH_0,de=z();ie(H,de);function Pt(r,i){var o=this._transformState;o.transforming=!1;var f=o.writecb;if(f===null)return this.emit("error",new Mt);o.writechunk=null,o.writecb=null,i!=null&&this.push(i),f(r);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function H(r){if(!(this instanceof H))return new H(r);de.call(this,r),this._transformState={afterTransform:Pt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",Lt)}function Lt(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(i,o){Ge(r,i,o)}):Ge(this,null,null)}H.prototype.push=function(r,i){return this._transformState.needTransform=!1,de.prototype.push.call(this,r,i)};H.prototype._transform=function(r,i,o){o(new Tt("_transform()"))};H.prototype._write=function(r,i,o){var f=this._transformState;if(f.writecb=o,f.writechunk=r,f.writeencoding=i,!f.transforming){var d=this._readableState;(f.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}};H.prototype._read=function(r){var i=this._transformState;i.writechunk!==null&&!i.transforming?(i.transforming=!0,this._transform(i.writechunk,i.writeencoding,i.afterTransform)):i.needTransform=!0};H.prototype._destroy=function(r,i){de.prototype._destroy.call(this,r,function(o){i(o)})};function Ge(r,i,o){if(i)return r.emit("error",i);if(o!=null&&r.push(o),r._writableState.length)throw new At;if(r._transformState.transforming)throw new Ot;return r.push(null)}var Dt=te,at=nt;ie(te,at);function te(r){if(!(this instanceof te))return new te(r);at.call(this,r)}te.prototype._transform=function(r,i,o){o(null,r)};var Ae;function Nt(r){var i=!1;return function(){i||(i=!0,r.apply(void 0,arguments))}}var ot=$.codes,jt=ot.ERR_MISSING_ARGS,Wt=ot.ERR_STREAM_DESTROYED;function $e(r){if(r)throw r}function Ct(r){return r.setHeader&&typeof r.abort=="function"}function It(r,i,o,f){f=Nt(f);var d=!1;r.on("close",function(){d=!0}),Ae===void 0&&(Ae=Ne),Ae(r,{readable:i,writable:o},function(s){if(s)return f(s);d=!0,f()});var l=!1;return function(s){if(!d&&!l){if(l=!0,Ct(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();f(s||new Wt("pipe"))}}}function Ye(r){r()}function xt(r,i){return r.pipe(i)}function Bt(r){return!r.length||typeof r[r.length-1]!="function"?$e:r.pop()}function qt(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var f=Bt(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new jt("streams");var d,l=i.map(function(s,w){var c=w<i.length-1,T=w>0;return It(s,c,T,function(W){d||(d=W),W&&l.forEach(Ye),!c&&(l.forEach(Ye),f(d))})});return i.reduce(xt)}var kt=qt;(function(r,i){i=r.exports=it(),i.Stream=i,i.Readable=i,i.Writable=tt(),i.Duplex=z(),i.Transform=nt,i.PassThrough=Dt,i.finished=Ne,i.pipeline=kt})(Pe,Pe.exports);var Ut=Pe.exports;const q=Ut;class Ke extends q.Readable{constructor(i={}){if(super(i),i.iterator)throw new Error("readable stream iterator shortcut not yet implemented")}until(i,o){return new Promise((f,d)=>{this.on("error",l=>{d(l)}),o?this.once(i,(...l)=>{f(this,...l)}):this.once(i,f)})}bucket(i="utf8"){if(this._readableState.objectMode)return new Promise((f,d)=>{let l=[];this.pipe(new q.Writable({write(s,w,c){l.push(s),c()},writev(s,w){l.push(...s),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="utf8"||i==="utf-8")return new Promise((f,d)=>{let l="";this.setEncoding(i),this.pipe(new q.Writable({decodeStrings:!1,write(s,w,c){l+=s,c()},writev(s,w){l+=s.join(""),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="buffer")return new Promise((f,d)=>{let l=U.Buffer.from([]);this.pipe(new q.Writable({decodeStrings:!0,write(s,w,c){l=U.Buffer.concat([l,s],l.length+s.length),c()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})})}}class Ft extends q.Writable{until(i,o){return new Promise((f,d)=>{this.on("error",l=>{d(l)}),o?this.once(i,(...l)=>{f(this,...l)}):this.once(i,f)})}import(i){return i.on("data",o=>this.write(o)).on("end",()=>this.end()).on("error",o=>this.emit("error",o)),this}}class De extends q.Duplex{until(i,o){return new Promise((f,d)=>{this.on("error",l=>{d(l)}),o?this.once(i,(...l)=>{f(this,...l)}):this.once(i,f)})}bucket(i="utf8"){if(this._readableState.objectMode)return new Promise((f,d)=>{let l=[];this.pipe(new q.Writable({write(s,w,c){l.push(s),c()},writev(s,w){l.push(...s),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="utf8"||i==="utf-8")return new Promise((f,d)=>{let l="";this.setEncoding(i),this.pipe(new q.Writable({decodeStrings:!1,write(s,w,c){l+=s,c()},writev(s,w){l+=s.join(""),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="buffer")return new Promise((f,d)=>{let l=U.Buffer.from([]);this.pipe(new q.Writable({decodeStrings:!0,write(s,w,c){l=U.Buffer.concat([l,s],l.length+s.length),c()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})})}}class re extends q.Transform{until(i,o){return new Promise((f,d)=>{this.on("error",l=>{d(l)}),o?this.once(i,(...l)=>{f(this,...l)}):this.once(i,f)})}bucket(i="utf8"){if(this._readableState.objectMode)return new Promise((f,d)=>{let l=[];this.pipe(new q.Writable({write(s,w,c){l.push(s),c()},writev(s,w){l.push(...s),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="utf8"||i==="utf-8")return new Promise((f,d)=>{let l="";this.setEncoding(i),this.pipe(new q.Writable({decodeStrings:!1,write(s,w,c){l+=s,c()},writev(s,w){l+=s.join(""),w()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})});if(i==="buffer")return new Promise((f,d)=>{let l=U.Buffer.from([]);this.pipe(new q.Writable({decodeStrings:!0,write(s,w,c){l=U.Buffer.concat([l,s],l.length+s.length),c()}})).on("error",s=>{d(s)}).on("finish",()=>{f(l)})})}import(i){return i.on("data",o=>this.write(o)).on("end",()=>this.end()).on("error",o=>this.emit("error",o)),this}demolish(i){if(this.push=o=>{if(o!==null)throw new Error("[ERR_STREAM_DESTROYED]: Cannot push after stream was destroyed")},this.emit=function(o,...f){o!=="end"&&Object.getPrototypeOf(this).emit.apply(this,[o,...f])},i)return q.Transform.prototype.destroy.call(this,i)}}const Ht=new Function("try {return this===global;}catch(e){return false;}")(),[Qt,Vt]=typeof D>"u"?[!0,!1]:D.browser?[!0,!0]:D.versions==="undefined"||D.versions.node==="undefined"?[!0,!1]:[!1,!1];(Vt||Ht&&+/^v(\d+)/.exec(D.version)[1]<10)&&(re.prototype.destroy=De.prototype.destroy=function(r,i){this._readableState.destroyed=!0,this._writableState.destroyed=!0;let o=()=>{this._writableState.emitClose&&this._readableState.emitClose&&this.emit("close")};return this._destroy(r||null,f=>{!i&&f?(D.nextTick(()=>{this.emit("error",f),o()}),this._writableState.errorEmitted=!0):(D.nextTick(o),i&&i(f))}),this},re.prototype._destroy=De.prototype._destroy=(r,i)=>i(r));class he extends re{constructor(i={}){super({...i,writableObjectMode:!0,readableObjectMode:!0}),this._as_inputs=new Set,this.on("pipe",o=>{this._as_inputs.add(o),o.on("prefix",(...f)=>{this.emit("prefix",...f)}).on("comment",(...f)=>{this.emit("comment",...f)})}),this.on("unpipe",o=>{this._as_inputs.delete(o)})}_destroy(){for(let i of this._as_inputs)i.destroy()}}class Gt extends he{_transform(i,o,f){f(null,JSON.stringify(i.isolate())+`
`)}}class $t extends he{_transform(i,o,f){f(null,{type:"quad",value:i})}}re.QuadsToOther=he;var Jt={...q,Readable:Ke,Writable:Ft,Duplex:De,Transform:re,QuadsToOther:he,quads_to_json(){return new Gt},quads_to_writable(){return new $t},source(r,i=null){return!i&&typeof r=="string"&&(i="utf8"),new Ke({objectMode:!i&&typeof r!="string"&&!U.Buffer.isBuffer(r),read(){this.push(r,i),this.push(null)}})}};export{Jt as m};
